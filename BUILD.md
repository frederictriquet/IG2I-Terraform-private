# Building the Presentation Locally

This document explains how to build the `cours.md` Marp presentation to HTML locally.

## Prerequisites

- [Node.js](https://nodejs.org/) (version 16 or higher)
- npm (comes with Node.js)

## Quick Start

### Option 1: Using npm scripts (recommended)

```bash
# Install dependencies
npm install

# Build cours.html
npm run build

# Watch for changes and rebuild automatically
npm run build:watch

# Build to build/ directory (like CI workflow)
npm run build:dir

# Preview in browser with live reload
npm run preview

# Start local server with live reload
npm run serve
```

### Option 2: Using the build script

```bash
# Make the script executable (first time only)
chmod +x build.sh

# Build cours.html
./build.sh

# Watch for changes
./build.sh --watch

# Build to build/ directory
./build.sh --dir

# Preview in browser
./build.sh --preview

# Start local server
./build.sh --serve

# Show help
./build.sh --help
```

### Option 3: Using npx directly

If you don't want to install dependencies locally:

```bash
# Build once
npx @marp-team/marp-cli cours.md -o cours.html

# Watch for changes
npx @marp-team/marp-cli cours.md -o cours.html --watch

# Preview in browser
npx @marp-team/marp-cli cours.md -o cours.html --preview

# Start local server
npx @marp-team/marp-cli cours.md -s
```

## Available npm Scripts

- `npm run build` - Build cours.html from cours.md
- `npm run build:watch` - Watch for changes and rebuild automatically
- `npm run build:dir` - Build to build/index.html (mimics CI workflow)
- `npm run preview` - Open in browser with live reload
- `npm run serve` - Start local development server with live reload

## Output Files

- **cours.html** - Default output (generated by `npm run build`)
- **build/index.html** - CI-like output (generated by `npm run build:dir`)

These files are git-ignored and can be safely deleted.

## Development Workflow

For active development, use the watch or serve mode:

```bash
# In one terminal, watch for changes
npm run build:watch

# Or use the serve mode for live reload in browser
npm run serve
```

This will automatically rebuild the HTML whenever you save changes to cours.md.

## Troubleshooting

### "npx not found"

Install Node.js from https://nodejs.org/

### Permission denied when running build.sh

Make the script executable:
```bash
chmod +x build.sh
```

### Marp CLI installation fails

Try clearing npm cache and reinstalling:
```bash
npm cache clean --force
npm install
```

## GitHub Actions

The presentation is automatically built and deployed to GitHub Pages when changes are pushed to the `master` branch. See [.github/workflows/marp-to-pages.yml](.github/workflows/marp-to-pages.yml) for the CI configuration.

## Learn More

- [Marp CLI Documentation](https://github.com/marp-team/marp-cli)
- [Marp Official Website](https://marp.app/)
